<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
</head>
<body>
    <h2>계정 생성</h2>
    <input type="text" id="username" placeholder="사용자 이름">
    <input type="password" id="password" placeholder="비밀번호">
    <input type="email" id="email" placeholder="이메일">
    <button onclick="register()">회원가입</button>
    <p id="message"></p>

    <script>
        async function register() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const email = document.getElementById('email').value;
            const messageElement = document.getElementById('message');

            try {
                const response = await fetch('/api/auth/register', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, password, email })
                });

                if (response.ok) {
                    messageElement.textContent = '회원가입 성공! 로그인 페이지로 이동합니다.';
                    setTimeout(() => window.location.href = 'login.html', 2000);
                } else {
                    const errorText = await response.text();
                    messageElement.textContent = `회원가입 실패: ${errorText}`;
                }
            } catch (error) {
                messageElement.textContent = '네트워크 오류가 발생했습니다.';
            }
        }
    </script>
</body>
</html>